<form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
  <div class="bg-white border-b mb-2 pb-1 flex justify-between">
    <span class="text-secondary text-lg font-semibold">Tạo mới thông báo</span>

    <span class="text-secondary" mat-dialog-close>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-x"
      >
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </span>
  </div>
  <mat-dialog-content class="mat-typography">
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Tiêu đề
      </label>
      <input class="w-full input" formControlName="title" />
      <span class="validate">{{errMess?.title?.[0]}}</span>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Mức độ thông báo
      </label>
      <select class="w-full input" formControlName="level">
        <option *ngFor="let level of levelNotice" [value]="level.value">
          {{ level.label }}
        </option>
      </select>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Loại thông báo
      </label>
      <select class="w-full input" formControlName="type_announce_id">
        <option *ngFor="let type of typeAnnounce" [value]="type.value">
          {{ type.label }}
        </option>
      </select>
    </div>
    <div class="mb-4 relative">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Sinh viên
      </label>
      <input
        type="text"
        disabled
        class="
          relative
          border
          rounded-lg
          p-3
          text-sm
          w-full
          focus:outline-none
          input
        "
        [value]="userInfo?.name ? userInfo?.name : ''"
        placeholder="Khách hàng"
      />
      <input
        type="hidden"
        [value]="userInfo?.id ? userInfo?.id : ''"
        formControlName="user_id"
      />
      <span
        (click)="getUserById()"
        class="z-10 h-full absolute w-8 right-2 pt-2 cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="icon icon-tabler icon-tabler-search"
          width="25"
          height="25"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="#000000"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Ngày bắt đầu
      </label>
      <input type="date" class="w-full input" formControlName="date_start" />
      <span class="validate">{{errMess?.date_start?.[0]}}</span>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Ngày kết thúc
      </label>
      <input type="date" class="w-full input" formControlName="date_end" />
      <span class="validate">{{errMess?.date_end?.[0]}}</span>
    </div>
    <div class="mb-6">
      <label class="block text-gray-700 text-sm font-semibold mb-2">
        Nội dung
      </label>
      <textarea
        formControlName="content"
        class="w-full input"
        style="height: 100px !important"
      ></textarea>
      <span class="validate">{{errMess?.content?.[0]}}</span>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="end" class="border-t border-gray-600 mt-10">
    <button
      mat-dialog-close
      class="
        px-4
        mr-4
        bg-header
        text-main
        font-medium
        rounded
        inline-flex
        items-center
      "
    >
      Huỷ
    </button>
    <button
      type="submit"
      class="
        px-4
        mr-4
        bg-main
        hover:bg-gray-200
        text-white
        font-medium
        rounded
        inline-flex
        items-center
        hover:text-green-600
      "
    >
      Lưu
    </button>
  </mat-dialog-actions>
</form>

<app-loading-page *ngIf="isLoading"></app-loading-page>
